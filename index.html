<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CD Experience</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: white;
            color: black;
            font-family: Arial, sans-serif;
        }
        .container {
            text-align: center;
            width: 90%;
            max-width: 1200px;
        }
        .cd-cover, .cd-view, .lyrics-view {
            display: none;
        }
        .active {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .cd-view {
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
        }
        .cd-view img, .cd-view video {
            width: 30%;
            height: auto;
        }
        img, video {
            width: 700px;
            height: auto;
            cursor: pointer;
        }
        .button {
            margin-top: 20px;
            padding: 15px 30px;
            background-color: #ffcc00;
            border: none;
            cursor: pointer;
            font-size: 22px;
        }
        .player {
            margin-top: 20px;
        }
        .song-list {
            list-style: none;
            padding: 0;
            font-size: 20px;
            margin-bottom: 30px;
        }
        .song-list li {
            cursor: pointer;
            padding: 8px;
        }
        .song-list li:hover {
            text-decoration: underline;
        }
        .lyrics-view {
            flex-direction: column;
            align-items: center;
            width: 90%;
            max-width: 1000px;
        }
        #lyrics-content {
            margin-top: 20px;
            font-size: 18px;
            width: 100%;
            max-width: 800px;
            white-space: pre-wrap; /* Mantener saltos de línea */
            overflow-y: auto; /* Desplazamiento vertical si la letra es larga */
            max-height: 300px; /* Limitar la altura de la vista de letras */
        }
        .annotated {
            background-color: yellow;
            cursor: pointer;
        }
        #annotation-box {
            position: absolute;
            padding: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            border-radius: 5px;
            display: none;
            max-width: 300px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div id="annotation-box"></div>

    <div class="container">
        <div id="cdCover" class="cd-cover active">
            <img src="covernew.jpg" alt="CD Cover" onclick="showCDView()">
        </div>
        <div id="cdView" class="cd-view">
            <img src="covernew.jpg" alt="CD Cover">
            <video id="cdVideo" src="cd-rotating.mp4" autoplay loop muted></video>
            <img src="backnew.jpg" alt="CD Back">
        </div>
        <button class="button" onclick="startListening()">Start listening + lyrics!</button>
        <div id="lyricsView" class="lyrics-view">
            <video id="lyricsVideo" src="cd-rotating.mp4" autoplay loop muted></video>
            <ul class="song-list" id="songList"></ul>
            <audio id="audioPlayer" controls>
                <source id="audioSource" src="" type="audio/mp3">
                Your browser does not support the audio element.
            </audio>
            <div class="player">
                <button onclick="prevSong()">⏮️</button>
                <button onclick="togglePlay()">▶️/⏸️</button>
                <button onclick="nextSong()">⏭️</button>
            </div>
            <p id="currentSong">Select a song</p>
            <div id="lyrics-content"></div>
        </div>
    </div>

    <script>
    // Cargar las canciones y las letras
    const songs = [
        {
            title: "margaret by lana del rey ft bleachers",
            file: "song1.mp3",
            lyrics: `
                This is a simple song, gonna write it for a friend
                My shirt is inside out, I'm messy with the pen
                He met Margaret on a rooftop, she was wearin' white
                <span class="annotated" data-note="un ratito de hablar de lo que resultó ser mi drama favorito y ya estaba dudando de lo que podríamos ser. 
                un día entero hablando con vos y ya nos veía exactamente donde estamos ahora, todos los días cuestionaba si saltar del edificio o 
                esperar una señal">
                And he was like, 'I might be in trouble'
                He had flashes of the good life, he was like
                'Should I jump off this building now or do it on the double?'</span>
                
                <span class="annotated" data-note="el amor existe por y para nosotros">
                'Cause, baby, if your love is in trouble
                Baby, if your love is in trouble
                Baby, if your love is in trouble
                </span>
                
                <span class="annotated" data-note="estábamos(estamos) tan enganchados tan rápido que para justificarnos a nosotros mismos y nuestras emociones
                descomunales y gigantes nos repetíamos esto todos los días <3 en chiste pero no en chiste">
                When you know, you know
                When you know, you know
                It kinda makes me laugh
                Runnin' down that path</span>
                When you're good as gold
                'Cause when you know, you know
                
                <span class="annotated" data-note="contándole a mis amigos ohh conocí a alguien y tal vez... me hablo con uno pero... 
                hablo cada vez más con gami y quizás... pero desvergonzadamente admitiendo que estaba enamorado de vos a dos semanas de conocerte <3">
                Word to all my friends
                With their rеd flags, their white knights
                Their black еyes and their blue lies</span>
                If you're askin' yourself, 'How do you know?'
                Then that's your answer, the answer is 'No'
                You gotta run, gotta run, run, run, run like your head's on fire
                Run away like your head is on fire
                
                <span class="annotated" data-note="el amor existe por y para nosotros">'Cause, baby, if your love is in trouble
                Baby, if your love is in trouble
                Baby, if your love is in trouble</span>
                
                When you know, you know
                When you know, you know
                It kinda makes me laugh
                Runnin' down that path
                When you're good as gold
                'Cause when you know, you know
                And when you're old, you're old
                Like Hollywood and me
                The diamond on your ring
                <span class="annotated" data-note="tenés el alma más hermosa, cálida, enorme y profunda que existe. no hay nadie como vos 
                en este universo ni otro">The soul that you bring to the table
                The one that makes me sing
                In a minor key</span>
                Cause when you know, you know
                When you know, you know
                
                So if you don't know, don't give up
                'Cause you never know what the new day might bring
    
                Maybe tomorrow you'll know
                Maybe tomorrow you'll know
                Maybe tomorrow you'll know
                I mean, join the party
                <span class="annotated" data-note="febrero 14***!!!">By the way, the party is December 18</span>
                (Alright, let's waltz this out, kids)

                'Cause when you know, you know
                And when you're old, you're old
                Like Hollywood and me
                That diamond on your ring
                The soul that you bring to the table
                The one that makes me sing
                In a minor key
                Diamond on your ring
                'Cause when you know, you know
                When you know, you know
            `
        },
        {
            title: "my love mine all mine by mitski",
            file: "song2.mp3",
            lyrics: `
                Moon, a hole of light
                Through the big top tent up high
                Here before and after me
                Shinin' down on me
                Moon, tell me if I could
                Send up my heart to you?
                So when I die, which I must do
                Could it shine down here with you?
                
                <span class="annotated" data-note="mi amor, el amor de mi vida, mío, para siempre. muy self-explanatory:
                sos lo único que tengo en el mundo que tiene un valor alguno (y vos valés todo). pobre y cansado y explotado
                pero al final del día siempre tengo a mi amor">'Cause my love is mine, all mine
                I love, my, my, mine
                Nothing in the world belongs to me
                But my love, mine, all mine, all mine</span>
                
                My baby here on Earth
                Showed me what my heart was worth
                So when it comes to be my turn
                Could you shine it down here for her?
                
                'Cause my love is mine, all mine
                I love, my, my, mine
                Nothing in the world belongs to me
                But my love, mine, all mine
                <span class="annotated" data-note="nada en el mundo asegurado para mí más que tu amor
                por siempre">Nothing in the world is mine for free
                But my love, mine, all mine, all mine</span>
        
        },
        {
            title: "love. by wave to earth",
            file: "song3.mp3",
            lyrics: `
                This is the lyrics for the third song.
                Just keep writing the lyrics here.
                <span class="annotated" data-note="First annotation for song 3">First annotation for song 3</span>
                Continue with more lyrics.
            `
        },
        {
            title: "endlessly by kali uchis",
            file: "song4.mp3",
            lyrics: `
                Another song, with more lyrics.
                <span class="annotated" data-note="This is an annotation for the fourth song">Annotation for the fourth song</span>
                Here’s more text for the song.
            `
        },
        {
            title: "in a week by hozier ft karen cowley",
            file: "song5.mp3",
            lyrics: `
                Here are the lyrics for the fifth song.
                <span class="annotated" data-note="Just another test annotation">Test annotation for song 5</span>
                Keep writing your song lyrics here.
            `
        },
        {
            title: "to be alone with you by sufjan stevens",
            file: "song6.mp3",
            lyrics: `
                This song brings the sixth experience.
                <span class="annotated" data-note="More annotations for this song">Annotation for song 6</span>
                Continue with the lyrics of the sixth song.
            `
        },
        {
            title: "wasteland, baby! by hozier",
            file: "song7.mp3",
            lyrics: `
                Lyrics of the seventh song go here.
                <span class="annotated" data-note="This is the seventh annotation for this song">Seventh song annotation</span>
                Keep adding lyrics here.
            `
        },
        {
            title: "sweet marie by the walters",
            file: "song8.mp3",
            lyrics: `
                Now we are on the eighth song.
                <span class="annotated" data-note="This is the eighth annotation">Eighth song annotation</span>
                Add the lyrics here.
            `
        },
        {
            title: "falling in love by cigarettes after sex",
            file: "song9.mp3",
            lyrics: `
                For the ninth song, add lyrics here.
                <span class="annotated" data-note="Ninth song annotation">Ninth annotation</span>
                Finish writing the lyrics.
            `
        },
        {
            title: "watch you sleep. by girl in red",
            file: "song10.mp3",
            lyrics: `
                The final song is here!
                <span class="annotated" data-note="Final annotation for the tenth song">Tenth annotation</span>
                Continue with the lyrics of the tenth song.
            `
        }
    ];

        // Función para mostrar la letra de la canción y las anotaciones
        function showLyrics(songIndex) {
            const song = songs[songIndex];
            const lyricsContent = document.getElementById('lyrics-content');
            const annotationBox = document.getElementById('annotation-box');
            
            // Mostrar la letra con las anotaciones
            lyricsContent.innerHTML = song.lyrics;

            // Mostrar las anotaciones al hacer clic en la línea
            const annotatedElements = document.querySelectorAll('.annotated');
            annotatedElements.forEach(element => {
                element.addEventListener('click', function () {
                    const note = element.getAttribute('data-note');
                    annotationBox.innerHTML = note;
                    annotationBox.style.display = 'block';
                    annotationBox.style.left = `${element.getBoundingClientRect().left}px`;
                    annotationBox.style.top = `${element.getBoundingClientRect().top + element.offsetHeight}px`;
                });
            });
        }

        // Función para comenzar a escuchar
        function startListening() {
            // Mostrar la vista de letras pero mantener el video del CD rotando
            document.getElementById('cdCover').classList.remove('active');
            document.getElementById('cdView').classList.remove('active');
            document.getElementById('lyricsView').classList.add('active');

            // Llenar la lista de canciones
            const songList = document.getElementById('songList');
            songList.innerHTML = ''; // Limpiar cualquier contenido anterior
            songs.forEach((song, index) => {
                const li = document.createElement('li');
                li.innerText = song.title;
                li.addEventListener('click', function () {
                    playSong(index);
                    showLyrics(index);
                });
                songList.appendChild(li);
            });
        }

        // Función para manejar la reproducción de la música
        function playSong(songIndex) {
            const audioPlayer = document.getElementById('audioPlayer');
            const song = songs[songIndex];
            const audioSource = document.getElementById('audioSource');
            audioSource.src = song.file;
            audioPlayer.load();
            audioPlayer.play();
        }

        // Mostrar la vista del CD
        function showCDView() {
            document.getElementById('cdCover').classList.remove('active');
            document.getElementById('cdView').classList.add('active');
        }

        // Mostrar/ocultar el cuadro de anotación
        document.addEventListener('click', function (event) {
            if (!event.target.classList.contains('annotated')) {
                document.getElementById('annotation-box').style.display = 'none';
            }
        });
    </script>
</body>
</html>
